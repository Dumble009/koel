(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{CYhk:function(t,e,a){"use strict";var o=a("QyKb");a.n(o).a},MbuW:function(t,e,a){"use strict";a.r(e);var o=a("JspL"),i=a("ilaN"),r=a("uhNi"),l=a("2Bgu"),n=a("c8RX"),s=function(t,e,a,o){return new(a||(a=Promise))((function(i,r){function l(t){try{s(o.next(t))}catch(t){r(t)}}function n(t){try{s(o.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(l,n)}s((o=o.apply(t,e||[])).next())}))};const c=["playlist","favorites","recently-played"];var p=o.a.extend({components:{ContextMenu:()=>a.e(69).then(a.bind(null,"GXMH")),NameEditor:()=>a.e(70).then(a.bind(null,"r2GB"))},props:{playlist:{type:Object,required:!0},type:{type:String,default:"playlist",validator:t=>c.includes(t)}},data:()=>({editing:!1,active:!1,showingContextMenu:!1}),computed:{url(){switch(this.type){case"playlist":return"#!/playlist/"+this.playlist.id;case"favorites":return"#!/favorites";case"recently-played":return"#!/recently-played";default:throw new Error("Invalid playlist type")}},nameEditable(){return"playlist"===this.type},contentEditable(){return!this.playlist.is_smart&&("playlist"===this.type||"favorites"===this.type)},hasContextMenu(){return"playlist"===this.type}},methods:{makeEditable(){this.nameEditable&&(this.editing=!0)},handleDrop(t){var e;if(!this.contentEditable)return!1;if(!(null===(e=t.dataTransfer)||void 0===e?void 0:e.getData("application/x-koel.text+plain")))return!1;const a=n.l.byIds(t.dataTransfer.getData("application/x-koel.text+plain").split(","));return!!a.length&&("favorites"===this.type?n.d.like(a):"playlist"===this.type&&n.e.addSongs(this.playlist,a),!1)},openContextMenu(t){return s(this,void 0,void 0,(function*(){this.hasContextMenu&&(this.showingContextMenu=!0,yield this.$nextTick(),l.a.go("/playlist/"+this.playlist.id),this.$refs.contextMenu.open(t.pageY,t.pageX))}))},cancelEditing(){this.editing=!1},onPlaylistNameUpdated(t){this.playlist.name=t.name,this.editing=!1}},created(){i.f.on(r.b.LOAD_MAIN_CONTENT,(t,e)=>{switch(t){case"Favorites":this.active="favorites"===this.type;break;case"RecentlyPlayed":this.active="recently-played"===this.type;break;case"Playlist":this.active=this.playlist===e;break;default:this.active=!1}})}}),d=(a("CYhk"),a("KHd+")),h=Object(d.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{class:["playlist",t.type,t.editing?"editing":"",t.playlist.is_smart?"smart":""],on:{dblclick:function(e){return e.preventDefault(),t.makeEditable(e)}}},[a("a",{directives:[{name:"koel-droppable",rawName:"v-koel-droppable",value:t.handleDrop,expression:"handleDrop"}],class:{active:t.active},attrs:{href:t.url},on:{contextmenu:function(e){return e.preventDefault(),t.openContextMenu(e)}}},[t._v(t._s(t.playlist.name))]),t._v(" "),t.nameEditable&&t.editing?a("name-editor",{attrs:{playlist:t.playlist},on:{cancelled:t.cancelEditing,updated:t.onPlaylistNameUpdated}}):t._e(),t._v(" "),t.hasContextMenu?a("context-menu",{directives:[{name:"show",rawName:"v-show",value:t.showingContextMenu,expression:"showingContextMenu"}],ref:"contextMenu",attrs:{playlist:t.playlist},on:{edit:t.makeEditable}}):t._e()],1)}),[],!1,null,"5c2ab05f",null);e.default=h.exports},QyKb:function(t,e,a){var o=a("o06e");"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(o,i);o.locals&&(t.exports=o.locals)},o06e:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,'@charset "UTF-8";[data-v-5c2ab05f]:root{--color-text-primary:#fff;--color-text-secondary:hsla(0,0%,100%,0.7);--color-bg-primary:#181818;--color-bg-secondary:hsla(0,0%,100%,0.025);--color-highlight:#ff7d2e;--bg-image:none;--bg-position:center;--bg-attachment:fixed;--bg-size:cover;--font-family:system,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;--font-weight-thin:100;--font-weight-light:300;--font-weight-normal:500;--header-height:48px;--footer-height:64px;--footer-height-mobile:74px;--extra-panel-width:334px;--color-black:#181818;--color-maroon:#bf2043;--color-green:#56a052;--color-blue:#0191f7;--color-red:#c34848}:root[data-theme=violet][data-v-5c2ab05f]{--color-bg-primary:#31094e}:root[data-theme=oak][data-v-5c2ab05f]{--color-bg-primary:#560d25}:root[data-theme=slate][data-v-5c2ab05f]{--color-bg-primary:#29434e}:root[data-theme=madison][data-v-5c2ab05f]{--color-bg-primary:#0e3463;--color-highlight:#fbab18}:root[data-theme=astronaut][data-v-5c2ab05f]{--color-bg-primary:#2a3074}:root[data-theme=chocolate][data-v-5c2ab05f]{--color-bg-primary:#3f2724}:root[data-theme=laura][data-v-5c2ab05f]{--color-bg-primary:#126673;--color-highlight:rgba(10,244,255,0.64)}:root[data-theme=rose-petals][data-v-5c2ab05f]{--bg-image:url(/img/themes/bg-rose-petals.svg);--color-bg-primary:#7d083b}:root[data-theme=purple-waves][data-v-5c2ab05f]{--color-bg-primary:#44115c;--bg-image:url(/img/themes/bg-purple-waves.svg)}:root[data-theme=cat][data-v-5c2ab05f]{--bg-image:url(/img/themes/bg-cat.jpg);--bg-position:left;--color-bg-primary:#000}:root[data-theme=pop-culture][data-v-5c2ab05f]{--bg-image:url(/img/themes/bg-pop-culture.jpg);--color-bg-primary:#ad0937;--color-highlight:rgba(234,208,110,0.9)}:root[data-theme=jungle][data-v-5c2ab05f]{--bg-image:url(/img/themes/bg-jungle.jpg);--color-bg-primary:#0f0f03}:root[data-theme=mountains][data-v-5c2ab05f]{--bg-image:url(/img/themes/bg-mountains.jpg);--color-bg-primary:#0e2656}:root[data-theme=pines][data-v-5c2ab05f]{--bg-image:url(/img/themes/bg-pines.jpg);--color-bg-primary:#06090c;--color-highlight:#5984b9}:root[data-theme=nemo][data-v-5c2ab05f]{--bg-image:url(/img/themes/bg-nemo.jpg);--color-bg-primary:#031724}.playlist[data-v-5c2ab05f]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.playlist a[data-v-5c2ab05f]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.playlist a span[data-v-5c2ab05f]{pointer-events:none}.playlist a[data-v-5c2ab05f]:before{content:"\\F0F6"}.playlist.favorites a[data-v-5c2ab05f]:before{content:"\\F004";color:var(--color-maroon)}.playlist.recently-played a[data-v-5c2ab05f]:before{content:"\\F1DA";color:var(--color-green)}.playlist.smart a[data-v-5c2ab05f]:before{content:"\\F069"}.playlist input[data-v-5c2ab05f]{width:calc(100% - 32px);margin:5px 16px}.playlist.editing a[data-v-5c2ab05f]{display:none!important}',""])}}]);