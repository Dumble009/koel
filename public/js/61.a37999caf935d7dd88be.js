(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"+1qC":function(a,e,t){var o=t("Gqjd");"string"==typeof o&&(o=[[a.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t("aET+")(o,i);o.locals&&(a.exports=o.locals)},"C+sE":function(a,e,t){"use strict";t.r(e);var o=t("9EAu"),i=t("ilaN"),r=t("c8RX"),s=t("JspL"),n=function(a,e,t,o){return new(t||(t=Promise))((function(i,r){function s(a){try{l(o.next(a))}catch(a){r(a)}}function n(a){try{l(o.throw(a))}catch(a){r(a)}}function l(a){var e;a.done?i(a.value):(e=a.value,e instanceof t?e:new t((function(a){a(e)}))).then(s,n)}l((o=o.apply(a,e||[])).next())}))},l=s.a.extend({components:{Btn:()=>t.e(0).then(t.bind(null,"i0GK")),SoundBar:()=>t.e(2).then(t.bind(null,"yt5i")),TooltipIcon:()=>t.e(18).then(t.bind(null,"ZpDk"))},props:{user:{type:Object,required:!0}},data:()=>({loading:!1,updateData:{},originalData:{}}),methods:{submit(){return n(this,void 0,void 0,(function*(){this.loading=!0;try{yield r.n.update(this.user,this.updateData),this.close()}catch(a){const e=422===a.response.status?Object(i.u)(a.response.data)[0]:"Unknown error.";i.b.error(e)}finally{this.loading=!1}}))},close(){this.$emit("close")},maybeClose(){Object(o.isEqual)(this.originalData,this.updateData)?this.close():i.b.confirm("Discard all changes?",()=>this.close())}},mounted(){this.updateData={name:this.user.name,email:this.user.email,is_admin:this.user.is_admin},Object.assign(this.originalData,this.updateData)}}),d=(t("jIsk"),t("KHd+")),m=Object(d.a)(l,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"edit-user",on:{keydown:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:a.maybeClose(e)}}},[a.loading?t("sound-bar"):t("form",{staticClass:"user-edit",attrs:{"data-testid":"edit-user-form"},on:{submit:function(e){return e.preventDefault(),a.submit(e)}}},[t("header",[t("h1",[a._v("Edit User")])]),a._v(" "),t("div",[t("div",{staticClass:"form-row"},[t("label",[a._v("Name")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.updateData.name,expression:"updateData.name"},{name:"koel-focus",rawName:"v-koel-focus"}],attrs:{title:"Name",type:"text",name:"name",required:""},domProps:{value:a.updateData.name},on:{input:function(e){e.target.composing||a.$set(a.updateData,"name",e.target.value)}}})]),a._v(" "),t("div",{staticClass:"form-row"},[t("label",[a._v("Email")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.updateData.email,expression:"updateData.email"}],attrs:{title:"Email",type:"email",name:"email",required:""},domProps:{value:a.updateData.email},on:{input:function(e){e.target.composing||a.$set(a.updateData,"email",e.target.value)}}})]),a._v(" "),t("div",{staticClass:"form-row"},[t("label",[a._v("Password")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.updateData.password,expression:"updateData.password"}],attrs:{name:"password",placeholder:"Leave blank for no changes",type:"password",autocomplete:"new-password"},domProps:{value:a.updateData.password},on:{input:function(e){e.target.composing||a.$set(a.updateData,"password",e.target.value)}}}),a._v(" "),t("p",{staticClass:"help"},[a._v("Min. 10 characters. Must be a mix of characters, numbers, and symbols.")])]),a._v(" "),t("div",{staticClass:"form-row"},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:a.updateData.is_admin,expression:"updateData.is_admin"}],attrs:{type:"checkbox",name:"is_admin"},domProps:{checked:Array.isArray(a.updateData.is_admin)?a._i(a.updateData.is_admin,null)>-1:a.updateData.is_admin},on:{change:function(e){var t=a.updateData.is_admin,o=e.target,i=!!o.checked;if(Array.isArray(t)){var r=a._i(t,null);o.checked?r<0&&a.$set(a.updateData,"is_admin",t.concat([null])):r>-1&&a.$set(a.updateData,"is_admin",t.slice(0,r).concat(t.slice(r+1)))}else a.$set(a.updateData,"is_admin",i)}}}),a._v(" User is an admin\n          "),t("tooltip-icon",{attrs:{title:"Admins can perform administrative tasks like managing users and uploading songs."}})],1)])]),a._v(" "),t("footer",[t("btn",{staticClass:"btn-update",attrs:{type:"submit"}},[a._v("Update")]),a._v(" "),t("btn",{staticClass:"btn-cancel",attrs:{white:"","data-test":"cancel-btn"},on:{click:function(e){return e.preventDefault(),a.maybeClose(e)}}},[a._v("Cancel")])],1)])],1)}),[],!1,null,"3036e0b2",null);e.default=m.exports},Gqjd:function(a,e,t){(a.exports=t("I1BE")(!1)).push([a.i,'[data-v-3036e0b2]:root{--color-text-primary:#fff;--color-text-secondary:hsla(0,0%,100%,0.7);--color-bg-primary:#181818;--color-bg-secondary:hsla(0,0%,100%,0.025);--color-highlight:#ff7d2e;--bg-image:none;--bg-position:center;--bg-attachment:fixed;--bg-size:cover;--font-family:system,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;--font-weight-thin:100;--font-weight-light:300;--font-weight-normal:500;--header-height:48px;--footer-height:64px;--footer-height-mobile:74px;--extra-panel-width:334px;--color-black:#181818;--color-maroon:#bf2043;--color-green:#56a052;--color-blue:#0191f7;--color-red:#c34848}:root[data-theme=violet][data-v-3036e0b2]{--color-bg-primary:#31094e}:root[data-theme=oak][data-v-3036e0b2]{--color-bg-primary:#560d25}:root[data-theme=slate][data-v-3036e0b2]{--color-bg-primary:#29434e}:root[data-theme=madison][data-v-3036e0b2]{--color-bg-primary:#0e3463;--color-highlight:#fbab18}:root[data-theme=astronaut][data-v-3036e0b2]{--color-bg-primary:#2a3074}:root[data-theme=chocolate][data-v-3036e0b2]{--color-bg-primary:#3f2724}:root[data-theme=laura][data-v-3036e0b2]{--color-bg-primary:#126673;--color-highlight:rgba(10,244,255,0.64)}:root[data-theme=rose-petals][data-v-3036e0b2]{--bg-image:url(/img/themes/bg-rose-petals.svg);--color-bg-primary:#7d083b}:root[data-theme=purple-waves][data-v-3036e0b2]{--color-bg-primary:#44115c;--bg-image:url(/img/themes/bg-purple-waves.svg)}:root[data-theme=cat][data-v-3036e0b2]{--bg-image:url(/img/themes/bg-cat.jpg);--bg-position:left;--color-bg-primary:#000}:root[data-theme=pop-culture][data-v-3036e0b2]{--bg-image:url(/img/themes/bg-pop-culture.jpg);--color-bg-primary:#ad0937;--color-highlight:rgba(234,208,110,0.9)}:root[data-theme=jungle][data-v-3036e0b2]{--bg-image:url(/img/themes/bg-jungle.jpg);--color-bg-primary:#0f0f03}:root[data-theme=mountains][data-v-3036e0b2]{--bg-image:url(/img/themes/bg-mountains.jpg);--color-bg-primary:#0e2656}:root[data-theme=pines][data-v-3036e0b2]{--bg-image:url(/img/themes/bg-pines.jpg);--color-bg-primary:#06090c;--color-highlight:#5984b9}:root[data-theme=nemo][data-v-3036e0b2]{--bg-image:url(/img/themes/bg-nemo.jpg);--color-bg-primary:#031724}.help[data-v-3036e0b2]{margin-top:.75rem}',""])},jIsk:function(a,e,t){"use strict";var o=t("+1qC");t.n(o).a}}]);